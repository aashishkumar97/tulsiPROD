:root{
  --ink:#0f172a; --muted:#6b7280; --bg:#f7fafc; --card:#fff;
  --primary:#1f6feb; --success:#1fa97a; --outline:rgba(15,23,42,.08);
  --ring:rgba(31,111,235,.18); --radius:16px; --shadow:0 12px 30px rgba(17,24,39,.09);
}
*{box-sizing:border-box} html,body{height:100%}
body{margin:0; font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; color:var(--ink); background:var(--bg);}
a{color:var(--primary); text-decoration:none}

.app-header{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px min(3vw,28px); background:#ffffffcc; backdrop-filter: blur(8px);
  border-bottom:1px solid var(--outline);
}
.brand{display:flex; align-items:center; gap:12px}
.logo{width:38px;height:38px;border-radius:10px;background:conic-gradient(from 225deg,#79b4ff,#00d1cf,#79b4ff); box-shadow: inset 0 0 0 6px rgba(255,255,255,.8)}
.brand-text h1{font-family:ui-serif,Georgia,serif; font-size:1.2rem; margin:0}
.brand-text p{margin:0; color:var(--muted)}

.btn{ appearance:none; border:none; cursor:pointer; font-weight:700; border-radius:12px; padding:10px 14px }
.btn-outline{ background:transparent; border:1px solid var(--outline) }
.btn-ghost{ background:transparent; color:var(--muted) }
.btn-success{ background:var(--success); color:#fff }

.site-foot{ text-align:center; padding:16px; color:var(--muted); border-top:1px solid var(--outline); background:#ffffffa6 }

/* ===== Persona profile layout ===== */
.profile-layout{
  display:grid;
  grid-template-columns: 320px 1fr;
  gap: 18px;
  padding: 18px min(3vw,28px);
  align-items:start;
}
.card{ background:var(--card); border:1px solid var(--outline); border-radius:var(--radius); }
.card--elevated{ box-shadow:var(--shadow) }

/* Left panel (sticky) */
.persona{
  position: sticky; top: 18px;
  padding: clamp(14px, 2.2vw, 20px);
}
.persona-head{
  display:grid; grid-template-columns: 76px 1fr; gap: 12px; align-items:center; margin-bottom: 10px;
}
.avatar{
  width:72px; height:72px; border-radius: 18px;
  background:
    radial-gradient(60% 60% at 30% 30%, rgba(31,111,235,.25), transparent 60%),
    linear-gradient(135deg, #1f6feb, #79b4ff);
  border: 6px solid #fff; box-shadow: var(--shadow);
}
.id-block label{ font-size:.85rem; color:var(--muted) }
.id-block input{ margin-top: 4px; }

.persona-section{ display:grid; gap: 12px; margin: 12px 0; }
.split-2{ display:grid; grid-template-columns: 1fr 1fr; gap: 12px; }

.collapsible summary{ cursor:pointer; font-weight:700; margin-bottom:8px; }
.persona-actions{ display:flex; gap:10px; margin-top: 8px; }
.status{ min-height: 18px; }
.status.ok{ color:#10b981 } .status.error{ color:#b42318 }

/* Right medical form */
.medical{
  padding: clamp(16px, 3vw, 24px);
}
.section-head{ display:flex; align-items:center; justify-content:space-between; margin: 4px 0 10px; }
.section-head h2{ margin:0; font-size: clamp(1.1rem, 2vw, 1.3rem); }

.medical-form{ display:grid; gap: 16px; }

.grid{ display:grid; gap: 14px }
.g-4{ grid-template-columns: repeat(auto-fit,minmax(180px,1fr)); }
.g-3{ grid-template-columns: repeat(auto-fit,minmax(220px,1fr)); }
.g-2{ grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); }
.g-1{ grid-template-columns: 1fr; }

.form-row{ display:grid; gap:6px }
label{ font-size:.92rem; color:#2f4052 }
input, textarea, select{
  width:100%; padding:12px 14px; border-radius:12px; border:1px solid var(--outline);
  background:#fcfeff; outline:none; color:var(--ink);
  transition: box-shadow .15s ease, border-color .15s ease;
}
textarea{ resize: vertical }
input:focus, textarea:focus, select:focus{ border-color:#7fb2ff; box-shadow:0 0 0 4px var(--ring); background:#fff }

/* Units on the right of inputs */
.unit{ position:relative; padding-right:64px }
.unit .unit-tag{
  position:absolute; right:8px; top:50%; transform:translateY(-50%);
  background:#eef6ff; border:1px solid var(--outline); color:#2b5aa8;
  padding:4px 8px; border-radius:999px; font-size:.82rem;
}

.history .chips{ display:flex; gap:8px }
.radio-row{ display:flex; gap:16px; align-items:center }

.form-actions{ display:flex; gap:10px; align-items:center; flex-wrap:wrap }
.stick-bottom{
  position: sticky; bottom: 0; background: #fff; padding: 12px; border-top: 1px solid var(--outline);
  border-bottom-left-radius: var(--radius); border-bottom-right-radius: var(--radius);
}

/* Responsive */
@media (max-width: 1000px){
  .profile-layout{ grid-template-columns: 1fr; }
  .persona{ position: static; }
}
